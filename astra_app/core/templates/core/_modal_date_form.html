{% extends 'core/_modal_base.html' %}
{% comment %}
Reusable Bootstrap modal for editing an end-of-day UTC expiration date.

Required context:
- modal_id: str
- title: str
- action_url: str
- input_id: str

Optional:
- next_url: str
- label: str
- initial_value: str (YYYY-MM-DD)
- current_text: str
- help_text: str
- submit_label: str (default: Save)
- submit_class: str (default: btn-primary)
{% endcomment %}

{% block modal_body %}
        {% if current_text %}
          <div class="mb-3">{{ current_text }}</div>
        {% endif %}

        <form method="post" action="{{ action_url }}" novalidate>
          {% csrf_token %}
          {% if next_url %}<input type="hidden" name="next" value="{{ next_url }}" />{% endif %}

          <div class="form-group">
            <label for="{{ input_id }}">{{ label|default:"Expiration date" }}</label>
            <input
              id="{{ input_id }}"
              name="expires_on"
              type="date"
              class="form-control"
              value="{{ initial_value|default:'' }}"
              required
            />
          </div>

          {% if help_text %}
          <div class="text-muted small mb-3">{{ help_text }}</div>
          {% endif %}

          <div class="d-flex justify-content-between">
            <button type="button" class="btn btn-secondary" data-dismiss="modal" aria-label="Cancel" title="Close dialog without saving">Cancel</button>
            <button type="submit" class="btn {{ submit_class|default:'btn-primary' }}" title="Save expiration date">{{ submit_label|default:"Save" }}</button>
          </div>
        </form>
{% endblock %}
