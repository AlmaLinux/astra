{% extends 'core/_modal_base.html' %}
{% comment %}
Reusable Bootstrap modal-confirm.

Required context:
- modal_id: str
- title: str
- body: str
- action_url: str
- submit_label: str

Optional:
- next_url: str
- submit_class: str (default: btn-primary)
- submit_button_class: str (default: matches submit_class)
- cancel_label: str (default: Cancel)
- dialog_style: str (inline style for .modal-dialog)

Alternative body rendering (use instead of `body` when you need one emphasized value):
- body_prefix: str
- body_emphasis: str
- body_suffix: str
{% endcomment %}

{% block modal_body %}
        <div class="mb-3">
          {% if dynamic_body %}
            <span class="js-body-prefix"></span> <strong class="js-body-emphasis"></strong><span class="js-body-suffix"></span>
          {% elif body_prefix or body_suffix %}
            {{ body_prefix }} <strong>{{ body_emphasis }}</strong>{{ body_suffix }}
          {% else %}
            {{ body }}
          {% endif %}
        </div>

        <form method="post" action="{{ action_url }}" class="m-0">
          {% csrf_token %}
          {% if next_url %}<input type="hidden" name="next" value="{{ next_url }}" />{% endif %}

          {% if form_fields_template %}
            {% include form_fields_template %}
          {% endif %}

          <div class="d-flex justify-content-between">
            <button type="button" class="btn btn-secondary" data-dismiss="modal" aria-label="Cancel" title="Close dialog without applying changes">{{ cancel_label|default:"Cancel" }}</button>
            {% if show_custom_email_button %}
              <button
                type="submit"
                class="btn {{ custom_submit_class|default:'btn-primary' }}"
                name="{{ custom_submit_name|default:'custom_email' }}"
                value="{{ custom_submit_value|default:'1' }}"
                title="Submit and send a custom email"
              >{{ custom_submit_label|default:"Custom" }}</button>
            {% endif %}
            <button type="submit" class="btn {{ submit_button_class|default:submit_class|default:'btn-primary' }}" title="Confirm and apply this action">{{ submit_label }}</button>
          </div>
        </form>
{% endblock %}
