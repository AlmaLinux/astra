{% load avatar_tags %}

<div class="card card-body mb-4 px-2 py-3 card-widget widget-user position-relative">
  {% if remove_from_group_cn %}
    <button
      type="button"
      class="btn btn-outline-danger btn-sm position-absolute"
      style="top: .35rem; right: .35rem; z-index: 10;"
      aria-label="Remove member"
      title="Remove this member from the group"
      data-toggle="modal"
      data-target="#remove-member-modal"
      data-username="{{ username }}"
    >
      <i class="fas fa-user-minus"></i>
    </button>
  {% endif %}

  {% if promote_to_sponsor %}
    <button
      type="button"
      class="btn btn-outline-primary btn-sm position-absolute"
      style="top: .35rem; right: 2.6rem; z-index: 10;"
      aria-label="Promote to Team Lead"
      title="Promote this member to Team Lead"
      data-toggle="modal"
      data-target="#promote-member-modal"
      data-username="{{ username }}"
    >
      <i class="fas fa-person-arrow-up-from-line"></i>
    </button>
  {% endif %}

  {% if demote_from_sponsor %}
    <button
      type="button"
      class="btn btn-outline-danger btn-sm position-absolute"
      style="top: .35rem; right: .35rem; z-index: 10;"
      aria-label="Remove Team Lead"
      title="Remove Team Lead role from this user"
      data-toggle="modal"
      data-target="#demote-sponsor-modal"
      data-username="{{ username }}"
    >
      <i class="fas fa-person-arrow-down-to-line"></i>
    </button>
  {% endif %}

  <div class="d-flex align-items-center {{ extra_class }}"{% if extra_style %} style="{{ extra_style }}"{% endif %}>
    <div class="flex-shrink-0 ml-1 mr-3">
      {% if avatar_user %}
        {% avatar avatar_user 50 class="img-circle elevation-2" style="object-fit:cover;" alt="User Avatar" %}
      {% else %}
        <span class="img-circle elevation-2 d-inline-flex align-items-center justify-content-center bg-secondary" style="width:50px;height:50px;">
          <i class="far fa-user"></i>
        </span>
      {% endif %}
    </div>

    <div class="flex-grow-1 ms-2" style="min-width: 0;">
      <div class="my-0 font-weight-bold">
        <a href="{% url 'user-profile' username %}">{{ username }}</a>
      </div>
      {% if full_name %}
        <div class="text-truncate w-100">{{ full_name }}</div>
      {% endif %}
    </div>
  </div>
</div>
